let lastElement,lastEvent,lastInput;function changeState(e){let event=e.type,target=e.target,element;if(target.matches(".btn-primary")||target.matches(".btn-secondary")||target.matches(".btn-tertiary")){if(element=target.classList[0],"contextmenu"==event&&(thing(event+" ENGELLENDİ"),e.preventDefault()),"mouseover"==event)target.classList.add(`${element}--hover`);else if("mouseout"==event)target.classList.remove(`${element}--hover`);else if("mousedown"==event||"touchstart"==event){if("mousedown"==event&&0!==e.button)return thing("BİRİNCİL BUTON KULLANILMADI ("+e.button+")"),void e.preventDefault();"keydown"==lastEvent?(thing(event+" ENGELLENDİ"),e.preventDefault()):(thing(event+" TETİKLENDİ"),resetState(),target.classList.add(`${element}--active`),lastElement=target,thing(lastElement))}else if("mouseup"==event||"touchend"==event)"keydown"==lastEvent?thing(event+" ENGELLENDİ"):(target===lastElement?(thing(event+" AYNI BUTONDA"),resetState(),target.classList.remove(`${element}--active`)):(thing(event+" FARKLI BUTONDA"),resetState()),lastElement=null);else if("keydown"==event)"Enter"===e.key||" "===e.key?("keydown"!==lastEvent&&(lastInput=e.key,thing(lastInput+" AYARLANDI")),target.classList.add(`${element}--active`),e.repeat||(thing(event+" TETİKLENDİ"),lastEvent=event,lastElement=target)):"Tab"==e.key&&"keydown"==lastEvent&&(thing(event+"("+e.key+") ENGELLENDİ"),e.preventDefault());else if("keyup"==event&&("Enter"===e.key||" "===e.key)){if(thing(event+" TETİKLENDİ"),lastInput!==e.key)return thing(event+"("+e.key+") ENGELLENDİ"),void e.preventDefault();lastInput=null,lastEvent=null,target.classList.remove(`${element}--active`)}}else"mouseup"==event?(thing(event+" BAŞKA ELEMENTTE"),"keydown"==lastEvent?(thing(event+" ENGELLENDİ"),e.preventDefault()):(lastEvent=null,resetState())):"mousedown"==event?(thing(event+" BAŞKA ELEMENTTE"),"keydown"==lastEvent&&(thing(event+" ENGELLENDİ"),e.preventDefault())):"contextmenu"==event&&(thing(event+" BAŞKA ELEMENTTE"),"keydown"==lastEvent&&(thing(event+" ENGELLENDİ"),e.preventDefault()))}function resetState(){let activeElements;document.querySelectorAll("[class*='--active']").forEach(i=>{thing("STATE RESET TETİKLENDİ"),i.classList.remove(`${i.classList[0]}--active`)})}document.addEventListener("focusin",changeState),document.addEventListener("focusout",changeState),document.addEventListener("dragstart",changeState);